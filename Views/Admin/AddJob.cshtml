
@{
    ViewBag.Title = "AddJob";
    Layout = "~/Views/Shared/_Admin.cshtml";
    String Message = "";
    TradeKerala2017.Models.DbTradekeralaEntities1 db = new TradeKerala2017.Models.DbTradekeralaEntities1();
    try
    {
        if (!String.IsNullOrEmpty(Request.QueryString["Msg"].ToString()))
        {
            Message = Request.QueryString["Msg"].ToString();
        }

    }
    catch
    {
    }
}

<div class="row">

    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Add Job vacancies <small>Details of Job vacancies</small></h2>
                <ul class="nav navbar-right panel_toolbox">
                    <li>
                        <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>

                    </li>
                    <li>
                        <a class="close-link"><i class="fa fa-close"></i></a>
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <label>@ViewBag.Message</label>
                <div class="alert alert-success alert-dismissable fade in">

                    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                    <strong>
                        <input id="Hidmsg" type="hidden" value="@Message" /> @Message
                    </strong>

                </div>

                @using (Html.BeginForm("AddJob", "Admin", FormMethod.Post, new { @enctype = "multipart/form-data", @Class = "form-horizontal form-label-left input_mask", @novalidate = "true", @onsubmit = "return SubmitForm()" }))
                {

                    <span class="section">Add Job Details</span>

                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="number">
                            Name Of Post<span class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="text" class="form-control col-md-7 col-xs-12" name="txtPost" required="required" />
                        </div>
                    </div>



                    <div class="item form-group">

                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="number">
                            Category <span class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <select class="select2_single form-control col-md-7 col-xs-12" name="Category" id="Category" tabindex="-1" required="required">
                                <option></option>
                                <option value="Technology">Technology</option>
                                <option value="Logistics">Logistics</option>
                                <option value="Finance">Finance</option>
                                <option value="Marketing">Marketing</option>
                                <option value="Customer Support">Customer Support</option>
                                <option value="Vendor acquisition">Vendor acquisition</option>
                                <option value="Operations">Operations</option>
                                <option value="HR and Admin">HR and Admin</option>
                                <option value="Internal tech support">Internal tech support</option>
                            </select>
                        </div>
                    </div>

                    <span class="section">Job Description</span>
                                    <!--Description 1-->
                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="number">
                            Description<span class="required"></span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <textarea id="txtDesc1" class="form-control" name="txtDesc1" data-parsley-trigger="keyup" data-parsley-minlength="20" data-parsley-maxlength="100" data-parsley-minlength-message="Come on! You need to enter at least a 20 caracters long comment.."
                                      data-parsley-validation-threshold="10" style="min-width:497px; min-height:200px"></textarea>

                        </div>


                    </div>
                                    <!--End---->


                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="number">
                            Key Skills<span class="required"></span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="text" class="form-control col-md-7 col-xs-12" name="txtKey" required="required" />
                        </div>
                    </div>
                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="number">
                            Experience<span class="required"></span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="text" class="form-control col-md-7 col-xs-12" name="txtExperience" required="required" />
                        </div>
                    </div>
                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="number">
                            Location<span class="required"></span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="text" class="form-control col-md-7 col-xs-12" name="Location" required="required" />
                        </div>
                    </div>

                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="number">
                            Posted Date<span class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="date" class="form-control col-md-7 col-xs-12" name="txtPdate" required="required"   />
                        </div>
                    </div>
                    <div class="item form-group">
                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="number">
                            Ending Date<span class="required">*</span>
                        </label>
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <input type="date" class="form-control col-md-7 col-xs-12" name="txtEdate" required="required" id="tags" />
                        </div>
                    </div>


                    <div class="ln_solid"></div>
                                                        <div class="form-group">
                                                            <div class="col-md-6 col-md-offset-3">
                                                                <button type="button" onclick="window.location.href='~/Admin/AddJob'" class="btn btn-primary">Cancel</button>
                                                                <button id="send" type="submit" class="btn btn-success">Submit</button><br />
                                                            </div>
                                                        </div>
                }




            </div>

            <table data-toggle="table" data-url="tables/data1.json" data-show-refresh="true" data-show-toggle="true" data-show-columns="true" data-search="true" data-select-item-name="toolbar1" data-pagination="true" data-sort-name="name" data-sort-order="desc">
                <thead>
                    <tr>
                        <th data-field="offer_name" data-sortable="true">Name Of Post</th>
                        <th data-field="Category" data-sortable="true">Category</th>
                        <th data-field="Keyskills" data-sortable="true">Keyskills</th>
                        <th data-field="Experience" data-sortable="true">Experience</th>
                        <th data-field="Locations" data-sortable="true">Locations</th>
                        <th data-field="Posted_date" data-sortable="true">Posted Date</th>
                        <th data-field="End_Date" data-sortable="true">Ending Date</th>
                        <th>Edit</th>
                        <th>Delete</th>
                    </tr>
                </thead>

                @{

                    foreach (TradeKerala2017.Models.tbl_Job tc in ViewBag.jobdes)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => @tc.Job_Name)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => @tc.job_Category)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => @tc.key_skills)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => @tc.Experience)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => @tc.location)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => @tc.Posted_date)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => @tc.End_Date)
                            </td>
                            <td><a class="btn btn-primary btn-sm"  href="Editjob?id=@tc.Job_Id&name=@tc.Job_Name"><i class="fa fa-pencil" aria-hidden="true" title="Edit Details"> Edit</i></a> </td>
                            <td><a class="btn btn-primary btn-sm"  href="Deletejob?id=@tc.Job_Id&name=@tc.Job_Name"><i class="fa fa-trash-o" aria-hidden="true" title="Delete Details" onclick="return confirm('Do You Want To Delete?')"> Delete</i></a></td>
                           
                        </tr>
                    }
                }

            </table>

        </div>
    </div>
</div>

<script src="../../js/jquery.min.js" type="text/javascript"></script>
<script src="~/js/switchery.min.js"></script>
<script src="~/js/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script>
    $(function () {
        $(".alert").hide();
        var msg = $("#Hidmsg").val();
        if (msg != "") {
            $(".alert").fadeIn(2000);
        }
        else {
            $(".alert").fadeOut(500);
        }
    });
    $('#hover, #striped, #condensed').click(function () {
        var classes = 'table';

        if ($('#hover').prop('checked')) {
            classes += ' table-hover';
        }
        if ($('#condensed').prop('checked')) {
            classes += ' table-condensed';
        }
        $('#table-style').bootstrapTable('destroy')
                                 .bootstrapTable({
                                     classes: classes,
                                     striped: $('#striped').prop('checked')
                                 });
    });

    $(".select2_multiple").select2({
        maximumSelectionLength: 50,
        placeholder: "Choose Recommend Items",
        allowClear: true
    });
    });


    function rowStyle(row, index) {
        var classes = ['active', 'success', 'info', 'warning', 'danger'];

        if (index % 2 === 0 && index / 2 < classes.length) {
            return {
                classes: classes[index / 2]
            };
        }
        return {};
    }

    function SubmitForm() {
        var clr = confirm("Are you sure you want to submit the Job Description?");
        if (clr == true) {
            var hta = document.getElementById("descr");
            var content_html = document.getElementById("editor1").innerHTML;
            hta.value = content_html;


            return true;
        }
        else {
            return false;
        }
    }

</script>



